extends layout

block content
  h2= title

  .col-xl-1.col-md-1.col-sm-2.hidden-xs
  #map.col-xl-6.col-md-6.col-sm-8.col-xs-12

  script.
    var nb = !{JSON.stringify(resultat)};
    function initMap() {
    latitude= "#{myposlat}";
    longitude= "#{myposlong}";
      var map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: parseFloat(latitude), lng: parseFloat(longitude) },
        zoom: 13
      });

      var i;
      for(i=0; i<nb.length; i++)
      {
        var lat= nb[i].latitude;
        var lg= nb[i].longitude;
        var myLatLng = {lat: parseFloat(lat), lng: parseFloat(lg)};
        var marker = new google.maps.Marker({
          position: myLatLng,
          map: map,
          title: nb[i].title
        });
      }
    }
  script(src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBSgoZTf61bLHq-ZCJEIE3SHKIBx7gUIOk&callback=initMap")

  .hidden-xl.hidden-md.col-sm-2
  .col-xl-3.col-md-3.col-sm-8.col-xs-12
    .well
      - var nb= resultat.length;
      - var i=0;
      while i< nb
        h3 #{resultat[i].title}
        p
          | #{resultat[i].what}
          if(resultat[i] != -1)
            | #{resultat[i].date}
          br
          | by: #{resultat[i].who}
        -i = i+ 1
